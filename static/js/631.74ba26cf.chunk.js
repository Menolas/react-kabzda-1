"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[631],{9761:function(e,s,o){o.r(s),o.d(s,{default:function(){return V}});var t=o(8683),n=o(5671),i=o(3144),r=o(136),a=o(2882),l=o(2791),c=o(8687),u="Profile_profile__Jr4rJ",p="Profile_background__QUfAd",f=o(885),d={profileInfo:"ProfileInfo_profileInfo__bMHEa",profileInfoBlock:"ProfileInfo_profileInfoBlock__89iqc",avatar:"ProfileInfo_avatar__d7FlB",name:"ProfileInfo_name__-nzbT",lookingForJob:"ProfileInfo_lookingForJob__UHUZD",socialContactsList:"ProfileInfo_socialContactsList__RZWTx",socialContactsItem:"ProfileInfo_socialContactsItem__lQVap",profileStatus:"ProfileInfo_profileStatus__hH4m5"},h=o(4131),m=o(4241),j=o(184),x=function(e){var s=(0,l.useState)(!1),o=(0,f.Z)(s,2),t=o[0],n=o[1],i=(0,l.useState)(e.status),r=(0,f.Z)(i,2),a=r[0],c=r[1];(0,l.useEffect)((function(){c(e.status)}),[e.status]);return(0,j.jsxs)("div",{className:d.profileStatus,children:[!t&&(0,j.jsx)("span",{onDoubleClick:function(){n(!0)},children:e.status||"-------"}),t&&(0,j.jsx)("div",{children:(0,j.jsx)("input",{onChange:function(e){c(e.currentTarget.value)},value:a,autoFocus:!0,onBlur:function(){n(!1),e.updateStatus(a)}})})]})},v=o(6139),g=o(704),P=o(2977),_=o(5273),b=(0,g.Z)({form:"edit-profile"})((function(e){var s=e.handleSubmit,o=e.profile,t=e.error;return(0,j.jsxs)("form",{className:"profileForm",onSubmit:s,children:[(0,j.jsx)("h2",{children:"Updating profile"}),(0,j.jsxs)("div",{className:_.Z.profileFormInputWrap,children:[(0,j.jsx)("label",{children:"Full Name:"}),(0,j.jsx)(v.Z,{component:P.I,name:"fullName",placeholder:"Full Name"})]}),(0,j.jsxs)("div",{className:_.Z.profileFormInputWrap,children:[(0,j.jsx)("label",{children:"Looking for a job:"}),(0,j.jsx)(v.Z,{component:P.I,name:"lookingForAJob",type:"checkbox"})]}),(0,j.jsxs)("div",{className:_.Z.profileFormInputWrap,children:[(0,j.jsx)("label",{children:"My professional skills:"}),(0,j.jsx)(v.Z,{component:P.g,name:"lookingForAJobDescription",placeholder:"My professional skills"})]}),(0,j.jsxs)("div",{className:_.Z.profileFormInputWrap,children:[(0,j.jsx)("label",{children:"About me:"}),(0,j.jsx)(v.Z,{component:P.g,name:"aboutMe",placeholder:"About me"})]}),(0,j.jsxs)("div",{className:"",children:[(0,j.jsx)("h3",{children:"Contacts"}),(0,j.jsx)("div",{className:"",children:Object.keys(o.contacts).map((function(e){return(0,j.jsxs)("div",{className:_.Z.profileFormInputWrap,children:[(0,j.jsx)("label",{children:e}),(0,j.jsx)(v.Z,{component:P.I,name:"contacts."+e,placeholder:""})]},e)}))})]}),t&&(0,j.jsx)("div",{className:_.Z.inputWrap+" "+_.Z.formSummaryError,children:t}),(0,j.jsx)("div",{children:(0,j.jsx)("button",{children:"save"})})]})})),k=function(e){var s=e.contactTitle,o=e.contactValue;return console.log(o),(0,j.jsxs)("li",{className:d.socialContactsItem,children:[(0,j.jsxs)("span",{children:[s,":"]}),(0,j.jsx)("span",{children:o})]})},I=function(e){var s=e.profile,o=e.isOwner,t=e.goToEditMode;return(0,j.jsxs)("div",{children:[o&&(0,j.jsx)("div",{children:(0,j.jsx)("button",{onClick:t,children:"edit"})}),(0,j.jsxs)("div",{className:d.lookingForJob+" "+d.profileInfoBlock,children:[(0,j.jsx)("span",{children:s.lookingForAJob?"Searching for Job":"Not Searching for Job"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{children:"Description:"}),(0,j.jsx)("span",{children:s.lookingForAJobDescription?s.lookingForAJobDescription:" ---"})]})]}),(0,j.jsxs)("div",{className:d.aboutMe+" "+d.profileInfoBlock,children:[(0,j.jsx)("span",{children:"About me:"}),(0,j.jsx)("span",{children:s.aboutMe?s.aboutMe:" ---"})]}),(0,j.jsx)("div",{className:d.socialContacts+" "+d.profileInfoBlock,children:(0,j.jsx)("ul",{className:d.socialContactsList,children:Object.keys(s.contacts).map((function(e){return(0,j.jsx)(k,{contactTitle:e,contactValue:s.contacts[e]},e)}))})})]})},N=function(e){var s=e.profile,o=e.status,t=e.updateStatus,n=e.isOwner,i=e.savePhoto,r=e.saveProfile,a=(0,l.useState)(!1),c=(0,f.Z)(a,2),u=c[0],p=c[1];if(!s)return(0,j.jsx)(h.Z,{});return(0,j.jsxs)("div",{className:d.profileInfo,children:[(0,j.jsx)("div",{className:d.avatar,children:(0,j.jsx)("img",{src:s.photos&&s.photos.small&&null!==s.photos.small?s.photos.small:m,alt:""})}),n&&(0,j.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&i(e.target.files[0])}}),(0,j.jsx)("div",{className:d.name+" "+d.profileInfoBlock,children:s.fullName}),(0,j.jsx)(x,{status:o,updateStatus:t}),u?(0,j.jsx)(b,{initialValues:s,profile:s,onSubmit:function(e){console.log(e),r(e).then((function(){p(!1)}))}}):(0,j.jsx)(I,{goToEditMode:function(){p(!0)},profile:s,isOwner:n})]})},Z=o(6070),S={newPost:"MyPosts_newPost__3PhR6",postsList:"MyPosts_postsList__vgLuA"},C="Post_item__xlp0p",y="Post_itemContent__iW0E1",F="Post_itemLike__0otOk",w=o.p+"static/media/ichigo.21898d746af2d9ad1dde.jpg",A=function(e){return(0,j.jsxs)("li",{className:C,children:[(0,j.jsx)("img",{src:w,alt:""}),(0,j.jsxs)("div",{className:y,children:[e.message,(0,j.jsx)("span",{className:F,children:e.likesCount})]})]})},J=o(5304),M=(0,J.D)(50),D=(0,g.Z)({form:"ProfileAddNewPostForm"})((function(e){return(0,j.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,j.jsx)(v.Z,{rows:"10",component:P.g,name:"newPostText",validate:[J.C,M],placeholder:"Write your next post here"}),(0,j.jsx)("button",{children:"Add post"})]})})),T=l.memo((function(e){var s=e.profilePage.posts.map((function(e){return(0,j.jsx)(A,{message:e.message,likesCount:e.likesCount},e.id)}));return(0,j.jsxs)("div",{className:S.myPosts,children:[(0,j.jsx)("h3",{children:"My posts"}),(0,j.jsx)("div",{className:S.newPost,children:(0,j.jsx)(D,{onSubmit:function(s){e.addPost(s.newPostText)}})}),(0,j.jsx)("ul",{className:S.postsList,children:s})]})})),L=(0,c.$j)((function(e){return{profilePage:e.profilePage,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(s){e((0,Z.Pi)(s))}}}))(T),O=o.p+"static/media/portfolio-background.ea5c5be245db5540915f.jpg",U=function(e){return(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)("div",{className:p,children:(0,j.jsx)("img",{src:O,alt:""})}),(0,j.jsx)(N,{savePhoto:e.savePhoto,saveProfile:e.saveProfile,profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner}),(0,j.jsx)(L,{})]})},W=o(1548),B=o(7781),E=o(602),z=function(e){(0,r.Z)(o,e);var s=(0,a.Z)(o);function o(){return(0,n.Z)(this,o),s.apply(this,arguments)}return(0,i.Z)(o,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s,o){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,j.jsx)(U,(0,t.Z)((0,t.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),o}(l.Component),V=(0,B.qC)((0,c.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:Z.et,getStatus:Z.lR,updateStatus:Z.Nf,savePhoto:Z.Ju,saveProfile:Z.Ii}),E.E,W.D)(z)},1548:function(e,s,o){o.d(s,{D:function(){return d}});var t=o(8683),n=o(5671),i=o(3144),r=o(136),a=o(2882),l=o(2791),c=o(8687),u=o(6871),p=o(184),f=function(e){return{isAuth:e.auth.isAuth}},d=function(e){var s=function(s){(0,r.Z)(l,s);var o=(0,a.Z)(l);function l(){return(0,n.Z)(this,l),o.apply(this,arguments)}return(0,i.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,p.jsx)(e,(0,t.Z)({},this.props)):(0,p.jsx)(u.Fg,{to:"/login"})}}]),l}(l.Component);return(0,c.$j)(f)(s)}}}]);
//# sourceMappingURL=631.74ba26cf.chunk.js.map