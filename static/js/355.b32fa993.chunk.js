"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[355],{6638:function(t,e,s){s.r(e),s.d(e,{default:function(){return z}});var o=s(8683),r=s(5671),a=s(3144),n=s(136),i=s(2882),l=s(2791),c=s(8687),u="Profile_profile__Jr4rJ",f="Profile_background__QUfAd",h={profileInfo:"ProfileInfo_profileInfo__bMHEa",profileInfoBlock:"ProfileInfo_profileInfoBlock__89iqc",avatar:"ProfileInfo_avatar__d7FlB",name:"ProfileInfo_name__-nzbT",lookingForJob:"ProfileInfo_lookingForJob__UHUZD",socialContactsList:"ProfileInfo_socialContactsList__RZWTx",socialContactsItem:"ProfileInfo_socialContactsItem__lQVap",profileStatus:"ProfileInfo_profileStatus__hH4m5"},p=s(4131),d=s(4241),m=s(885),x=s(184),j=function(t){var e=(0,l.useState)(!1),s=(0,m.Z)(e,2),o=s[0],r=s[1],a=(0,l.useState)(t.status),n=(0,m.Z)(a,2),i=n[0],c=n[1];(0,l.useEffect)((function(){c(t.status)}),[t.status]);return(0,x.jsxs)("div",{className:h.profileStatus,children:[!o&&(0,x.jsx)("span",{onDoubleClick:function(){r(!0)},children:t.status||"-------"}),o&&(0,x.jsx)("div",{children:(0,x.jsx)("input",{onChange:function(t){c(t.currentTarget.value)},value:i,autoFocus:!0,onBlur:function(){r(!1),t.updateStatus(i)}})})]})},_=function(t){var e=t.profile,s=t.status,o=t.updateStatus,r=t.isOwner,a=t.savePhoto;if(!e)return(0,x.jsx)(p.Z,{});return(0,x.jsxs)("div",{className:h.profileInfo,children:[(0,x.jsx)("div",{className:h.avatar,children:(0,x.jsx)("img",{src:e.photos&&e.photos.small&&null!==e.photos.small?e.photos.small:d,alt:""})}),r&&(0,x.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&a(t.target.files[0])}}),(0,x.jsx)("div",{className:h.name+" "+h.profileInfoBlock,children:e.fullName}),(0,x.jsx)(j,{status:s,updateStatus:o}),(0,x.jsxs)("div",{className:h.lookingForJob+" "+h.profileInfoBlock,children:[(0,x.jsx)("span",{children:e.lookingForAJob?"Searching for Job":"Not Searching for Job"}),(0,x.jsx)("span",{children:e.lookingForAJobDescription})]}),(0,x.jsx)("div",{className:h.socialContacts+" "+h.profileInfoBlock,children:(0,x.jsxs)("ul",{className:h.socialContactsList,children:[e.contacts.facebook?(0,x.jsx)("li",{className:h.socialContactsItem,children:(0,x.jsx)("a",{href:e.contacts.facebook,target:"_blank",rel:"noreferrer",children:"FB"})}):"",e.contacts.website?(0,x.jsx)("li",{className:h.socialContactsItem,children:(0,x.jsx)("a",{href:e.contacts.website,target:"_blank",rel:"noreferrer",children:"WB"})}):"",e.contacts.vk?(0,x.jsx)("li",{className:h.socialContactsItem,children:(0,x.jsx)("a",{href:e.contacts.vk,target:"_blank",rel:"noreferrer",children:"VK"})}):"",e.contacts.twitter?(0,x.jsx)("li",{className:h.socialContactsItem,children:(0,x.jsx)("a",{href:e.contacts.twitter,target:"_blank",rel:"noreferrer",children:"TW"})}):"",e.contacts.instagram?(0,x.jsx)("li",{className:h.socialContactsItem,children:(0,x.jsx)("a",{href:e.contacts.instagram,target:"_blank",rel:"noreferrer",children:"IN"})}):"",e.contacts.youtube?(0,x.jsx)("li",{className:h.socialContactsItem,children:(0,x.jsx)("a",{href:e.contacts.youtube,target:"_blank",rel:"noreferrer",children:"YB"})}):"",e.contacts.github?(0,x.jsx)("li",{className:h.socialContactsItem,children:(0,x.jsx)("a",{href:e.contacts.github,target:"_blank",rel:"noreferrer",children:"GB"})}):"",e.contacts.mainLink?(0,x.jsx)("li",{className:h.socialContactsItem,children:(0,x.jsx)("a",{href:e.contacts.mainLink,target:"_blank",rel:"noreferrer",children:"ML"})}):""]})}),(0,x.jsx)("div",{className:h.aboutMe+" "+h.profileInfoBlock,children:(0,x.jsx)("p",{children:e.aboutMe})})]})},g=s(6070),P={newPost:"MyPosts_newPost__3PhR6",postsList:"MyPosts_postsList__vgLuA"},k="Post_item__xlp0p",v="Post_itemContent__iW0E1",b="Post_itemLike__0otOk",I=s.p+"static/media/ichigo.21898d746af2d9ad1dde.jpg",N=function(t){return(0,x.jsxs)("li",{className:k,children:[(0,x.jsx)("img",{src:I,alt:""}),(0,x.jsxs)("div",{className:v,children:[t.message,(0,x.jsx)("span",{className:b,children:t.likesCount})]})]})},C=s(6139),S=s(704),w=s(5304),Z=s(5271),y=(0,w.D)(50),B=(0,S.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,x.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,x.jsx)(C.Z,{rows:"10",component:Z.g,name:"newPostText",validate:[w.C,y],placeholder:"Write your next post here"}),(0,x.jsx)("button",{children:"Add post"})]})})),A=l.memo((function(t){var e=t.profilePage.posts.map((function(t){return(0,x.jsx)(N,{message:t.message,likesCount:t.likesCount},t.id)}));return(0,x.jsxs)("div",{className:P.myPosts,children:[(0,x.jsx)("h3",{children:"My posts"}),(0,x.jsx)("div",{className:P.newPost,children:(0,x.jsx)(B,{onSubmit:function(e){t.addPost(e.newPostText)}})}),(0,x.jsx)("ul",{className:P.postsList,children:e})]})})),L=(0,c.$j)((function(t){return{profilePage:t.profilePage,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t((0,g.Pi)(e))}}}))(A),F=s.p+"static/media/portfolio-background.ea5c5be245db5540915f.jpg",J=function(t){return(0,x.jsxs)("div",{className:u,children:[(0,x.jsx)("div",{className:f,children:(0,x.jsx)("img",{src:F,alt:""})}),(0,x.jsx)(_,{savePhoto:t.savePhoto,profile:t.profile,status:t.status,updateStatus:t.updateStatus,isOwner:t.isOwner}),(0,x.jsx)(L,{})]})},D=s(1548),M=s(7781),T=s(602),U=function(t){(0,n.Z)(s,t);var e=(0,i.Z)(s);function s(){return(0,r.Z)(this,s),e.apply(this,arguments)}return(0,a.Z)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,x.jsx)(J,(0,o.Z)((0,o.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),s}(l.Component),z=(0,M.qC)((0,c.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:g.et,getStatus:g.lR,updateStatus:g.Nf,savePhoto:g.Ju}),T.E,D.D)(U)},1548:function(t,e,s){s.d(e,{D:function(){return p}});var o=s(8683),r=s(5671),a=s(3144),n=s(136),i=s(2882),l=s(2791),c=s(8687),u=s(6871),f=s(184),h=function(t){return{isAuth:t.auth.isAuth}},p=function(t){var e=function(e){(0,n.Z)(l,e);var s=(0,i.Z)(l);function l(){return(0,r.Z)(this,l),s.apply(this,arguments)}return(0,a.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,f.jsx)(t,(0,o.Z)({},this.props)):(0,f.jsx)(u.Fg,{to:"/login"})}}]),l}(l.Component);return(0,c.$j)(h)(e)}}}]);
//# sourceMappingURL=355.b32fa993.chunk.js.map